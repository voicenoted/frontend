(this.webpackJsonpvoicenoted=this.webpackJsonpvoicenoted||[]).push([[0],{11:function(t){t.exports=JSON.parse('[{"audioid":1,"title":"412. Side Project Perfectionism","subtitle":"Stories & Cities"}]')},37:function(t,e,a){},38:function(t,e,a){},59:function(t,e,a){},61:function(t,e,a){},62:function(t,e,a){},63:function(t,e,a){},64:function(t,e,a){"use strict";a.r(e);var n,i,s,c=a(1),r=a.n(c),o=a(29),d=a.n(o),l=(a(37),a(2)),p=a(3),u=a(5),j=a(4),b=(a(38),a.p+"static/media/navbar_listen_filled.c2a5b26f.svg"),h=a.p+"static/media/navbar_community_filled.e11a0d0e.svg",m=a.p+"static/media/navbar_library_filled.8d3f8539.svg",f=a.p+"static/media/navbar_gear_filled.1eb524b9.svg",O=a.p+"static/media/navbar_listen_stroke.88235d28.svg",v=a.p+"static/media/navbar_community_stroke.4c149a49.svg",x=a.p+"static/media/navbar_library_stroke.de6d85d1.svg",g=a.p+"static/media/navbar_gear_stroke.070b88b5.svg",N=a(0),y=function(t){Object(u.a)(a,t);var e=Object(j.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).navbarElements=["listen","discover","notes","settings"],n.changeSelected=function(t){n.setState({selected:t})},n.state={selected:"listen"},n}return Object(p.a)(a,[{key:"render",value:function(){var t=this;return Object(N.jsx)("div",{className:"Navbar",children:this.navbarElements.map((function(e,a){return Object(N.jsx)(k,{changeSelected:t.changeSelected,changeView:t.props.changeView,view:e,selected:t.state.selected===e},a)}))})}}]),a}(r.a.Component),k=function(t){Object(u.a)(a,t);var e=Object(j.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).navbarIcons={filled:{listen:b,discover:h,notes:m,settings:f},stroke:{listen:O,discover:v,notes:x,settings:g}},n.onClick=function(){n.props.changeView(n.props.view),n.props.changeSelected(n.props.view)},n}return Object(p.a)(a,[{key:"render",value:function(){return Object(N.jsx)("button",{className:"NavbarButton",onClick:this.onClick,children:Object(N.jsx)("img",{alt:"icon",src:this.navbarIcons[this.props.selected?"filled":"stroke"][this.props.view]})})}}]),a}(r.a.Component),w=y,C=a(8),S=a.n(C),R=a(9),T=a(10),I=a.n(T),_=a.p+"static/media/audio_cover.08eb2b3d.png",E=a.p+"static/media/play.871ef5ec.svg",V=a.p+"static/media/pause.750131bd.svg",M=a.p+"static/media/speech.174e1686.flac",Z=(a(59),function(t){Object(u.a)(a,t);var e=Object(j.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).formatTime=function(t){var e=Math.floor(t),a=Math.floor(e/60),n=e%60;return(a<10?"0":"")+a+":"+(n<10?"0":"")+n},n.getAudioFile=function(){var t=Object(R.a)(S.a.mark((function t(e){var a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return t.next=4,t.sent.blob();case 4:return a=t.sent,t.abrupt("return",new File([a],"FILE_NAME",{type:"audio/flac"}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.togglePlay=function(){n.state.playing?(n.setState({playing:!1}),n.audioRef.current.pause()):(n.setState({playing:!0}),n.audioRef.current.play())},n.startAddNote=function(){n.setState({addingNote:!0,addNoteStartTime:n.audioRef.current.currentTime})},n.stopAddNote=function(){n.setState({addingNote:!1,addNoteEndTime:n.audioRef.current.currentTime},Object(R.a)(S.a.mark((function t(){var e,a,i,s;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Math.floor(n.state.addNoteStartTime),a=Math.ceil(n.state.addNoteEndTime),i=new FormData,t.t0=i,t.next=6,n.getAudioFile(M);case 6:return t.t1=t.sent,t.t0.append.call(t.t0,"file",t.t1),i.append("startTime",e),i.append("endTime",a),t.next=12,I()({method:"post",url:"https://voicenoted.herokuapp.com/speechToText",headers:{"Content-Type":"multipart/form-data"},data:i}).catch((function(t){n.setState({popupError:!0,popupOpen:!0})}));case 12:return s=t.sent,console.log(s.data),t.next=16,I.a.post("https://voicenoted.herokuapp.com/saveNote",{token:"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJodHRwczovL2lkZW50aXR5dG9vbGtpdC5nb29nbGVhcGlzLmNvbS9nb29nbGUuaWRlbnRpdHkuaWRlbnRpdHl0b29sa2l0LnYxLklkZW50aXR5VG9vbGtpdCIsImlhdCI6MTYzMjAxODcyMiwiZXhwIjoxNjMyMDIyMzIyLCJpc3MiOiJmaXJlYmFzZS1hZG1pbnNkay1heHF2dkB2b2ljZS1hZDM0MC5pYW0uZ3NlcnZpY2VhY2NvdW50LmNvbSIsInN1YiI6ImZpcmViYXNlLWFkbWluc2RrLWF4cXZ2QHZvaWNlLWFkMzQwLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwidWlkIjoic29tZS11aWQifQ.OhYG56dJc6BEvNUXFZCnmtfgvZPzbTUZsEPvIgXZ55UjlQO1KDwP-HkR6bchxaqyGbQs1Dz9CMZY14xdZu9CC-aIsKzO87jO-qvJd66XPsYE6mJCGmUzEu_I4pcavH6aU3EEEpbWausMs11M2C9GFdhvBs-iYYSkztSAMdZfVR2D_FlEU4A91ISnQH3VNYv79bLV9DRn9SURpAc8PTKzsrg0yK5g4XtUD3854Rkak7ZSaec_WVC8DNwwl-KfoCw4GwFH-nIJU2_HfI4dCrOORudHOKdEq8-roYHhvYsC5Vqx4XPOE0nsOey_aEHvSNeqjoGQ5JW0ssX0_AQOgmkRVA",timestamp:{start:e,end:a},audioid:1,content:s.data.text,audioLink:s.data.audioLink}).catch((function(t){n.setState({popupError:!0,popupOpen:!0})}));case 16:n.setState({popupError:!1,popupOpen:!0});case 17:case"end":return t.stop()}}),t)}))))},n.timeUpdate=function(){n.setState({currTime:n.audioRef.current.currentTime})},n.handleTimelineChange=function(t){n.audioRef.current.currentTime=t.target.value},n.state={playing:!1,addingNote:!1,addNoteStartTime:0,addNoteEndTime:0,currTime:0,duration:0,popupOpen:!1,popupError:!1},n.audioRef=r.a.createRef(),n.audioElement=document.getElementById("audio"),n}return Object(p.a)(a,[{key:"render",value:function(){var t=this,e=this.state.addingNote?"Stop":Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("i",{className:"fas fa-fw fa-plus"})," Add Note"]});return Object(N.jsxs)("div",{className:"ListeningView",children:[Object(N.jsxs)("div",{className:"top-wrapper",style:{paddingTop:48},children:[Object(N.jsx)("img",{src:_,alt:"audio_cover_1.png"}),Object(N.jsx)("div",{className:"title",children:this.props.title}),Object(N.jsx)("div",{className:"subtitle",children:this.props.subtitle})]}),Object(N.jsxs)("div",{className:"player",children:[Object(N.jsx)("div",{className:"time-wrapper",children:Object(N.jsxs)("div",{class:"audioPlayer",children:[Object(N.jsx)("input",{type:"range",min:"0",step:"0.1",max:Math.ceil(this.state.duration),value:this.state.currTime,onChange:this.handleTimelineChange,disabled:this.state.addingNote}),Object(N.jsx)("span",{className:"time left",children:this.formatTime(this.state.currTime)}),Object(N.jsx)("img",{src:this.state.playing?V:E,alt:"play pause",onClick:this.togglePlay,className:"playPause"}),Object(N.jsx)("span",{className:"time right",children:this.formatTime(this.state.duration)})]})}),Object(N.jsx)("audio",{ref:this.audioRef,src:M,type:"audio/flac",onTimeUpdate:this.timeUpdate,onDurationChange:function(){t.setState({duration:t.audioRef.current.duration})}})]}),Object(N.jsx)("button",{className:"addNote",onClick:this.state.addingNote?this.stopAddNote:this.startAddNote,children:e}),Object(N.jsxs)("div",{style:{display:this.state.popupOpen?"block":"none",position:"absolute",top:24,left:24,backgroundColor:this.state.popupError?"#ff0000":"#338B31",borderRadius:8,padding:12,color:"#fff"},children:[Object(N.jsx)("button",{style:{margin:-12,marginRight:12,background:"none",color:"#fff"},onClick:function(){t.setState({popupOpen:!1})},children:"\xd7"}),this.state.popupError?"Failed to upload voicenote :(":"Voicenote added successfully :D"]})]})}}]),a}(r.a.Component)),P=Z,z=a(12),F=a(13),A=F.a.div(n||(n=Object(z.a)(["\n    // margin-left: -25px;\n    button {\n        background-color: white;\n        border: none;\n        color: #F3AAA5;\n        padding: 10px;\n        padding-left: 20px;\n        font-size: 20px;\n    }\n\n    input {\n        color: silver;\n        border: silver;\n        padding: 8px;\n        width: 350px;\n    }\n\n    form {\n        width: 300px;\n        display: flex;\n        flex-direction: row;\n        justify-content: center;\n    }\n"]))),W=function(){return Object(N.jsx)(A,{children:Object(N.jsxs)("form",{action:"/",method:"get",children:[Object(N.jsx)("button",{type:"submit",children:Object(N.jsx)("i",{class:"fas fa-search"})}),Object(N.jsx)("input",{type:"text",id:"header-search",placeholder:"Search for podcast episodes",name:"s"})]})})},Y=(a(61),a(66)),D=a.p+"static/media/audio_cover_1.4103535e.png",J=a.p+"static/media/audio_cover_2.c32254c3.png",L=a.p+"static/media/audio_cover_3.2b4cc945.png",G=a.p+"static/media/green_rect.8d892f3d.svg",H=a.p+"static/media/pink_slash.4dab4ab8.svg",U=function(t){return Object(N.jsxs)("div",{children:[Object(N.jsx)("h2",{style:{zIndex:100,position:"relative"},children:t.title}),Object(N.jsx)("img",{src:G,alt:"green rectangle",style:{position:"relative",transform:"translate(0, -1.4em)"}}),Object(N.jsx)("img",{src:H,alt:"pink slash",style:{position:"relative",height:26,transform:"translate(0.1em, -1.7em)"}})]})},X=function(t){return Object(N.jsx)("div",{children:Object(N.jsx)("h2",{style:{fontSize:16,marginTop:"1em"},children:t.title})})},B=F.a.div(i||(i=Object(z.a)(["\n    display: flex;\n    flex-direction: row;\n    gap: 10px;\n    overflow: scroll;\n    // margin-top: 10px;\n    .pod {\n      padding: 10px 0;\n    }\n    .pic {\n        width: 88px;\n    }\n    .title {\n        font-size: 11px;\n        font-weight: bold;\n        text-align: left;\n    }\n    .subtitle {\n        margin: 1px;\n        font-size: 10px;\n        text-align: left;\n        opacity: 75%;\n    }\n"]))),Q=F.a.div(s||(s=Object(z.a)(["\n    display: flex;\n    flex-direction: column;\n    & header {\n        text-align: left;\n        font-weight: bold;\n        text-size: 20px;\n        padding: 3px;\n        margin-top: 15px;\n        margin-bottom: -10px;\n    }\n"]))),K=function(t){Object(u.a)(a,t);var e=Object(j.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(N.jsxs)(Q,{children:[Object(N.jsx)(X,{title:this.props.title}),Object(N.jsxs)(B,{children:[Object(N.jsxs)(Y.a,{className:"pod",children:[Object(N.jsx)(Y.a.Img,{className:"pic",variant:"top",src:D}),Object(N.jsxs)(Y.a.Body,{children:[Object(N.jsx)(Y.a.Title,{className:"title",children:"The Side Project Perfectionism"}),Object(N.jsx)(Y.a.Text,{className:"subtitle",children:"Stories & Cities"})]})]}),Object(N.jsxs)(Y.a,{className:"pod",style:{width:"18rem"},children:[Object(N.jsx)(Y.a.Img,{className:"pic",variant:"top",src:L}),Object(N.jsxs)(Y.a.Body,{children:[Object(N.jsx)(Y.a.Title,{className:"title",children:"How to Deal with Recent Stress"}),Object(N.jsx)(Y.a.Text,{className:"subtitle",children:"Kalyn's Coffee Talk"})]})]}),Object(N.jsxs)(Y.a,{className:"pod",style:{width:"18rem"},children:[Object(N.jsx)(Y.a.Img,{className:"pic",variant:"top",src:J}),Object(N.jsxs)(Y.a.Body,{children:[Object(N.jsx)(Y.a.Title,{className:"title",children:"Black Holes"}),Object(N.jsx)(Y.a.Text,{className:"subtitle",children:"SpaceTalk Radio"})]})]}),Object(N.jsxs)(Y.a,{className:"pod",children:[Object(N.jsx)(Y.a.Img,{className:"pic",variant:"top",src:D}),Object(N.jsxs)(Y.a.Body,{children:[Object(N.jsx)(Y.a.Title,{className:"title",children:"The Side Project Perfectionism"}),Object(N.jsx)(Y.a.Text,{className:"subtitle",children:"Stories & Cities"})]})]})]})]})}}]),a}(c.Component),q=function(t){Object(u.a)(a,t);var e=Object(j.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(N.jsxs)("div",{className:"wrapper",children:[Object(N.jsx)(U,{title:"Discover"}),Object(N.jsx)(W,{}),Object(N.jsx)(K,{title:"From your library"}),Object(N.jsx)(K,{title:"Recommended for you"}),Object(N.jsx)(K,{title:"Popular"})]})}}]),a}(r.a.Component),$=q,tt=function(t){Object(u.a)(a,t);var e=Object(j.a)(a);function a(t){return Object(l.a)(this,a),e.call(this,t)}return Object(p.a)(a,[{key:"render",value:function(){return Object(N.jsx)("div",{children:"SettingsView"})}}]),a}(r.a.Component),et=a.p+"static/media/dotdotdot.2f97300b.svg",at=(a(62),a(11)),nt=function(t){Object(u.a)(a,t);var e=Object(j.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).updateNotes=Object(R.a)(S.a.mark((function t(){var e;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.get("https://voicenoted.herokuapp.com/getNotes",{params:{audioid:1}});case 2:e=t.sent,n.setState({notes:e.data.sort((function(t,e){return t.timestamp.start-e.timestamp.start}))});case 4:case"end":return t.stop()}}),t)}))),n.editNote=function(t){n.setState((function(e){return{editingNote:!0,editNoteIndex:t,editCounter:e.editCounter+1}}))},n.stopEditNote=function(){n.setState({editingNote:!1})},n.setNoteContent=function(t,e){var a=n.state.notes.slice();a[t].content=e,n.setState({notes:a})},n.state={notes:[],editingNote:!1,editNoteIndex:0,editCounter:0},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.updateNotes()}},{key:"renderNoteView",value:function(){return Object(N.jsxs)("div",{className:"NotesView",children:[Object(N.jsx)(U,{title:"Voicenotes"}),Object(N.jsx)(it,{display:!this.state.editingNote,title:at[0].title,subtitle:at[0].subtitle,notes:this.state.notes,editNote:this.editNote}),Object(N.jsx)(ct,{display:this.state.editingNote,data:this.state.notes[this.state.editNoteIndex],index:this.state.editNoteIndex,counter:this.state,stopEditNote:this.stopEditNote,setNoteContent:this.setNoteContent})]})}},{key:"render",value:function(){return this.renderNoteView()}}]),a}(r.a.Component),it=function(t){Object(u.a)(a,t);var e=Object(j.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var t=this;return this.props.display?Object(N.jsxs)("div",{className:"section",children:[Object(N.jsx)(X,{title:this.props.title}),Object(N.jsx)("p",{children:this.props.subtitle}),this.props.notes.map((function(e,a){return Object(N.jsx)(st,{index:a,data:e,editNote:t.props.editNote},a)}))]}):null}}]),a}(r.a.Component),st=function(t){Object(u.a)(a,t);var e=Object(j.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).togglePlay=function(){n.state.playing?(n.setState({playing:!1}),n.audioRef.current.pause()):(n.setState({playing:!0}),n.audioRef.current.play())},n.edit=function(){n.props.editNote(n.props.index)},n.state={playing:!1},n.audioRef=r.a.createRef(),n}return Object(p.a)(a,[{key:"render",value:function(){return Object(N.jsxs)("div",{className:"note",children:[Object(N.jsx)("audio",{ref:this.audioRef,src:this.props.data.audioLink,type:"audio/flac",loop:!0}),Object(N.jsx)("img",{src:this.state.playing?V:E,alt:"play pause",onClick:this.togglePlay,className:"playPause"}),Object(N.jsx)("span",{className:"content",children:this.props.data.content}),void 0!==this.props.editNote&&Object(N.jsx)("img",{src:et,alt:"dotdotdot",className:"dotdotdot",onClick:this.edit})]})}}]),a}(r.a.Component),ct=function(t){Object(u.a)(a,t);var e=Object(j.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).save=Object(R.a)(S.a.mark((function t(){var e;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.textareaRef.current.value,t.next=3,I.a.post("https://voicenoted.herokuapp.com/updateNote",{noteid:n.props.data.noteid,content:e}).catch((function(t){n.props.stopEditNote()}));case 3:n.props.setNoteContent(n.props.index,e),n.props.stopEditNote();case 5:case"end":return t.stop()}}),t)}))),n.textareaRef=r.a.createRef(),n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(t){var e;this.props.counter!==t.counter&&(this.textareaRef.current&&(this.textareaRef.current.value=(null===(e=this.props.data)||void 0===e?void 0:e.content)?this.props.data.content:""))}},{key:"render",value:function(){return this.props.display?Object(N.jsxs)("div",{className:"EditNoteView",children:[Object(N.jsx)(st,{data:this.props.data}),Object(N.jsx)("textarea",{ref:this.textareaRef}),Object(N.jsx)("div",{children:Object(N.jsxs)("button",{className:"saveNote",onClick:this.save,children:[Object(N.jsx)("i",{className:"fas fa-fw fa-bookmark"})," Save Note"]})})]}):null}}]),a}(r.a.Component),rt=nt,ot=(a(63),function(t){Object(u.a)(a,t);var e=Object(j.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).changeView=function(t){n.setState({view:t})},n.state={view:"listen"},n}return Object(p.a)(a,[{key:"render",value:function(){var t={listen:Object(N.jsx)(P,{title:at[0].title,subtitle:at[0].subtitle}),discover:Object(N.jsx)($,{}),notes:Object(N.jsx)(rt,{}),settings:Object(N.jsx)(tt,{})};return Object(N.jsxs)("div",{className:"App",children:[t[this.state.view],Object(N.jsx)(w,{changeView:this.changeView})]})}}]),a}(c.Component));d.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(ot,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.dc07bea2.chunk.js.map