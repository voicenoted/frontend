(this.webpackJsonpvoicenoted=this.webpackJsonpvoicenoted||[]).push([[0],{25:function(e,t,a){},26:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),c=a(19),r=a.n(c),s=(a(25),a(3)),o=a(4),d=a(6),u=a(5),l=(a(26),a.p+"static/media/navbar_listen_filled.c2a5b26f.svg"),p=a.p+"static/media/navbar_community_filled.e11a0d0e.svg",b=a.p+"static/media/navbar_library_filled.8d3f8539.svg",m=a.p+"static/media/navbar_gear_filled.1eb524b9.svg",j=a.p+"static/media/navbar_listen_stroke.0dafe3e3.svg",h=a.p+"static/media/navbar_community_stroke.8a966c29.svg",f=a.p+"static/media/navbar_library_stroke.3940c46c.svg",v=a.p+"static/media/navbar_gear_stroke.bae66659.svg",g=a(0),O=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).navbarElements=["listen","community","library","settings"],n.changeSelected=function(e){n.setState({selected:e})},n.state={selected:"listen"},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(g.jsx)("div",{className:"Navbar",children:this.navbarElements.map((function(t,a){return Object(g.jsx)(y,{changeSelected:e.changeSelected,changeView:e.props.changeView,view:t,selected:e.state.selected===t},a)}))})}}]),a}(i.a.Component),y=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).navbarIcons={filled:{listen:l,community:p,library:b,settings:m},stroke:{listen:j,community:h,library:f,settings:v}},n.onClick=function(){n.props.changeView(n.props.view),n.props.changeSelected(n.props.view)},n}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsx)("button",{className:"NavbarButton",onClick:this.onClick,children:Object(g.jsx)("img",{alt:"icon",src:this.navbarIcons[this.props.selected?"filled":"stroke"][this.props.view]})})}}]),a}(i.a.Component),x=O,N=a(7),w=a.n(N),k=a(10),T=a(20),_=a.n(T),S=a.p+"static/media/audio_cover_1.08eb2b3d.png",C=a.p+"static/media/play.871ef5ec.svg",E=a.p+"static/media/pause.750131bd.svg",R=a.p+"static/media/speech.174e1686.flac",V=(a(48),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getAudioFile=function(){var e=Object(k.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return e.next=4,e.sent.blob();case 4:return a=e.sent,e.abrupt("return",new File([a],"FILE_NAME",{type:"audio/flac"}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.togglePlay=function(){n.state.playing?(n.setState({playing:!1}),n.audioRef.current.pause()):(n.setState({playing:!0}),n.audioRef.current.play())},n.startAddNote=function(){n.setState({addingNote:!0,addNoteStartTime:n.audioRef.current.currentTime})},n.stopAddNote=function(){n.setState({addingNote:!1,addNoteEndTime:n.audioRef.current.currentTime},Object(k.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new FormData,e.t0=t,e.next=4,n.getAudioFile(R);case 4:return e.t1=e.sent,e.t0.append.call(e.t0,"file",e.t1),t.append("startTime",Math.floor(n.state.addNoteStartTime)),t.append("endTime",Math.ceil(n.state.addNoteEndTime)),e.next=10,_()({method:"post",url:"https://voicenoted.herokuapp.com/speechToText",data:t,headers:{"Content-Type":"multipart/form-data"}}).catch((function(e){console.log(e)}));case 10:a=e.sent,console.log(a.data.result);case 12:case"end":return e.stop()}}),e)}))))},n.timeUpdate=function(){n.setState({currTime:n.audioRef.current.currentTime})},n.handleTimelineChange=function(e){console.log(e),n.audioRef.current.currentTime=e.target.value},n.state={playing:!1,addingNote:!1,addNoteStartTime:0,addNoteEndTime:0,currTime:0},n.audioRef=i.a.createRef(),n.audioElement=document.getElementById("audio"),n}return Object(o.a)(a,[{key:"render",value:function(){var e,t=this.state.addingNote?"Stop":Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("i",{className:"fas fa-fw fa-plus"})," Add Note"]});return Object(g.jsxs)("div",{className:"ListeningView",children:[Object(g.jsxs)("div",{className:"top-wrapper",children:[Object(g.jsx)("img",{src:S,alt:"audio_cover_1.png"}),Object(g.jsx)("div",{className:"title",children:this.props.title}),Object(g.jsx)("div",{className:"subtitle",children:this.props.subtitle})]}),Object(g.jsxs)("div",{className:"player",children:[Object(g.jsx)("input",{type:"range",min:"0",max:null===(e=this.audioRef.current)||void 0===e?void 0:e.duration,value:this.state.currTime,onChange:this.handleTimelineChange}),Object(g.jsx)("img",{src:this.state.playing?E:C,alt:"play pause",onClick:this.togglePlay,className:"playPause"}),Object(g.jsx)("audio",{ref:this.audioRef,src:R,type:"audio/flac",onTimeUpdate:this.timeUpdate})]}),Object(g.jsx)("button",{className:"addNote",onClick:this.state.addingNote?this.stopAddNote:this.startAddNote,children:t})]})}}]),a}(i.a.Component)),A=V,F=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsx)("div",{children:"CommunityView"})}}]),a}(i.a.Component),I=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsx)("div",{children:"LibraryView"})}}]),a}(i.a.Component),P=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsx)("div",{children:"SettingsView"})}}]),a}(i.a.Component),M=(a(49),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).changeView=function(e){n.setState({view:e})},n.state={view:"listen"},n}return Object(o.a)(a,[{key:"render",value:function(){var e={listen:Object(g.jsx)(A,{title:"412. Side Project Perfectionism",subtitle:"Stories & Cities"}),community:Object(g.jsx)(F,{}),library:Object(g.jsx)(I,{}),settings:Object(g.jsx)(P,{})};return Object(g.jsxs)("div",{className:"App",children:[e[this.state.view],Object(g.jsx)(x,{changeView:this.changeView})]})}}]),a}(n.Component));r.a.render(Object(g.jsx)(i.a.StrictMode,{children:Object(g.jsx)(M,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.b62f1a84.chunk.js.map